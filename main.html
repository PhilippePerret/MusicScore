<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Music Score</title>
  
  <link rel="stylesheet" type="text/css" href="css/system/main.css" />
  <link rel="stylesheet" type="text/css" href="css/app/main.css" />
  <link rel="stylesheet" type="text/css" href="css/app/MesureCode.css" />
  <script type="text/javascript" src="js/system/jquery.js"></script>
  <script type="text/javascript" src="js/system/jquery-ui.min.js"></script>
  <script type="text/javascript" src="js/system/jquery.form.min.js"></script>
  <script type="text/javascript" src="js/system/Handies.js"></script>
  <script type="text/javascript" src="js/system/UISystem.js"></script>
  <script type="text/javascript" src="js/system/dom.js"></script>
  <script type="text/javascript" src="js/system/Ajax.js"></script>

</head>
<body>

  <!-- 

    BLOC D'OUTILS SUR MARGE DROITE
   
   -->
  <div id="bloc_tools_right">
    <div><a href="Manuel.pdf" target="_blank">Manuel PDF</a></div>
    <button onclick="ImgScore.diminueSize.call(ImgScore)" style="font-size:22px">üîç</button>
    <button onclick="ImgScore.augmenteSize.call(ImgScore)" style="font-size:32px">üîç</button>

    <div id="bottom_tools">
      <!-- Les outils du bas de la colonne droite d'outils -->
      
      <!--
        ONGLETS POUR OUVRIR LES PANNEAUX
       -->
      <div id="main_onglets">
        <button id="onglet_options" class="onglet" data-panneau-id="options">Options</button>
        <button id="onglet_tools" class="onglet" data-panneau-id="tools">Outils</button>
        <button id="onglet-quick_aide" class="onglet" data-panneau-id="quick_aide">Quick Help</button>
      </div>

      <div>
        <!-- 
          Boutons "+" et "-" pour ajouter et supprimer des mesures
         -->
        <button onclick="MesureCode.createNew.call(MesureCode)">‚ûï</button>
        <button onclick="MesureCode.removeCurrent.call(MesureCode)">‚ûñ</button>
      </div>

    </div><!-- #bottom_tools -->

  </div>


  <!-- 
    Image(s) de la partition
   -->
  <section id="score_container">
    <img id="score" src="score_building/code/visu.svg" />
  </section>

  <!-- 

    LA SECTION PRINCIPAL CONTENANT NOTAMMENT LE CHAMP POUR LE CODE

   -->
  <section id="code_container">

    <div id="mesures_code"><!--  
      Pour mettre les mesures-code de code
    --></div>

  </section>

  <!-- 

      SECTION DES PANNEAUX

   -->

  <section id="panneaux">

    <!-- 

      Le PANNEAU DES OUTILS

     -->
    <div id="tools" class="panneau closed">
      
      <legend>Outils</legend>

      <div>
        <legend>Snippets</legend>
        <button onclick="Tools.writeInCurrent('double_voix')">Double voix m√™me port√©e</button>
        <button onclick="Tools.writeInCurrent('debut_reprise')"> |: </button>
        <button onclick="Tools.writeInCurrent('fin_reprise')"> :| </button>
        <button onclick="Tools.writeInCurrent('fin_debut_reprise')"> :|: </button>
        <button onclick="Tools.writeInCurrent('fin')">Fin morceau</button>
      </div>

      <div>
        <legend>Code final</legend>
        <div>
          <button onclick="App.produceFinalCode.call(App)">Produire le code final</button>
          <span class="libelle">De la mesure</span><input type="text" id="output_from_mesure" class="short" />
          <span class="libelle">√† la mesure</span><input type="text" id="output_to_mesure" class="short" />
        </div>
        <textarea id="final_code" style="width:100%;" placeholder="CODE FINAL"></textarea>
        <div class="right">
          <button onclick="App.forceCodeFinal.call(App)">Forcer la production du code final (apr√®s bug)</button>
        </div>
      </div>

      <div>
        <div>
          <button onclick="App.traiteCodeInitial.call(App)">Traiter le code initial complet¬†:</button>
        </div>
        <textarea id="ini_code" style="width:100%;height:100px;" placeholder="CODE INITIAL"></textarea>
      </div>

      <div>
        
        <button onclick="Tools.resetAll.call(Tools)">Tout effacer</button>
        <button onclick="Tools.forceUpdateImage.call(Tools)">Forcer le rechargement de l'image</button>

      </div>
    </div>

    <!-- 
    

      Le PANNEAU DES OPTIONS √† appliquer √† la partition
    

     -->
    <div id="options" class="panneau closed">

      <legend>Options</legend>

      <table id="table_options">
        <!-- 
          Premi√®re ligne d'options
         -->
        <tr>
          <td>
            <!-- Format de page -->
            <span class="libelle">Page</span><select id="page">
              <option value="">---</option>
              <option value="a3">A3</option>
              <option value="a4">A4</option>
              <option value="a5">A5</option>
            </select>
            <!-- Premi√®re mesure -->
            <span class="libelle">1<sup>√®re</sup> mesure</span><input type="text" id="mesure" value="" class="short" />
          </td>
          <td>
            <span class="libelle">Syst√®me</span><select id="systeme">
              <option value="mono">Mono</option>
              <option value="piano" SELECTED>Piano</option>
              <option value="duo">duo</option>
              <option value="trio">trio</option>
              <option value="quatuor">quatuor</option>
              <option value="xxx">autre¬†:</option>
            </select><input type="text" id="other_systeme" class="short">
          </td>
          <td>
            <span class="libelle">Proximit√©</span><select id="proximity">
              <option value="">---</option>
              <option value="1">1 (notes tr√®s proches)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (normal)</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="15">15</option>
              <option value="20">20</option>
              <option value="25">25</option>
              <option value="30">30</option>
              <option value="35">35</option>
              <option value="40">40</option>
              <option value="45">45</option>
              <option value="50">50 (tr√®s espac√©)</option>
            </select>
          </td>
        </tr>
        <!-- 
          Deuxi√®me ligne d'options
         -->
        <tr>
          <td>
            <span class="libelle">Tonalit√©</span><select id="tune_note">
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="E">E</option>
              <option value="F">F</option>
              <option value="G">G</option>
              <option value="A">A</option>
              <option value="B">B</option>
            </select><select id="tune_alteration">
              <option value="">naturel</option>
              <option value="b">b√©mol</option>
              <option value="#">di√®se</option>
            </select>
          </td>

          <td>
            <span class="libelle">M√©trique</span><select id="time">
              <option value="">---</option>
              <option value="OFF">OFF (ne pas afficher)</option>
              <option value="C">C</option>
              <option value="4/4">4/4</option>
              <option value="2/2">C barr√©</option>
              <option value="2/2">2/2</option>
              <option value="3/4">3/4</option>
              <option value="2/4">2/4</option>
              <option value="3/8">3/8</option>
              <option value="6/8">6/8</option>
              <option value="9/8">9/8</option>
              <option id="xxx">autre¬†:</option>
            </select><input type="text" id="other_time" class="short" />            
          </td>

          <td>
            <input type="checkbox" id="cb_barres">¬†<label class="libelle" for="cb_barres" CHECKED>Barres mesures</label>
            <input type="checkbox" id="cb_stems">¬†<label class="libelle" for="cb_stems" CHECKED>Hampes</label>            
          </td>
        </tr>

        <!-- 
          TROISI√àME LIGNE D'OPTIONS
         -->
         <tr>
           <td>
             <span class="libelle">Espace entre port√©es (9:normal)</span><input type="text" id="staves_vspace" class="short" />
           </td>
         </tr>
      </table>

      <div>
        <input type="checkbox" id="cb_auto_update_after_change" /><label for="auto_update_after_change">Actualiser automatiquement la partition lors d'une modification de mesure</label>
      </div>
      <div>
        <span class="libelle">Disposition lignes code / Image partition</span><select id="disposition" onchange="Options.onChange.call(Options,this)">
          <option value="up_down">Image au-dessus / Code en dessous</option>
          <option value="down_up">Image en dessous / Code au-dessus</option>
          <option value="left_right">Image √† gauche / Code √† droite</option>
          <option value="right_left">Image √† droite / Code √† gauche</option>
        </select>
      </div>

      <div class="right">
        <button onclick="Score.resetOptions.call(Score)">R√©-initialiser les options</button>
      </div>

    </div>
    <!-- /FIN du Panneau des options      -->    

    <div id="quick_aide" class="panneau closed">

      <legend>Aide rapide</legend>

      <h2>Synopsis g√©n√©ral</h2>
      <ol>
        <li>R√©gler les options de la partition √† l'aide du bouton ‚ÄúOptions‚Äù</li>
        <li>√âcrire le pseudo-code Lilypond dan se servant du bouton ‚Äú+‚Äù pour ajouter des mesures (ou simplement en jouant la touche tabulation)</li>
        <li>Forcer l'actualisation de la partition √† l'aide de ‚åò¬†B</li>
        <li>Demander le code final dans le panneau ‚ÄúOutils‚Äù en cliquant le bouton ‚ÄúProduire le code final‚Äù</li>
        <li>Copier-coller le code dans un fichier .mus (par exemple 'score.mus'</li>
        <li>Ouvrir un Terminal au dossier de ce fichier</li>
        <li>Jouer <code>scorize ./score.mus</code> pour produire l'image ou les images de la partition.</li>
      </ol>
    </div>

  </section>

  <!-- 
    Formulaire soumis pour actualisation de l'image
   -->
  <form id="ajax_form">
    <textarea id="ajax_data" name="ajax_data"></textarea>
    <input type="hidden" name="script_name" id="script_name" value="" />
  </form>

  <footer>
  </footer>
  <div id="message" class="hidden" onclick="UI.hideMessage.call(UI)"></div>

  <script type="text/javascript" src="config.js" defer></script>
  <script type="text/javascript" src="js/app/App.js" defer></script>
  <script type="text/javascript" src="js/app/Onglet.js" defer></script>
  <script type="text/javascript" src="js/app/data.js" defer></script>
  <script type="text/javascript" src="js/app/UI.js" defer></script>
  <script type="text/javascript" src="js/app/Score.js" defer></script>
  <script type="text/javascript" src="js/app/ImgScore.js" defer></script>
  <script type="text/javascript" src="js/app/KeyEvent.js" defer></script>
  <script type="text/javascript" src="js/app/MesureCode.js" defer></script>
  <script type="text/javascript" src="js/app/Tools.js" defer></script>
  <script type="text/javascript" src="js/app/Options.js" defer></script>
  <script type="text/javascript" src="js/app/ready.js" defer></script>
</body>
</html>
